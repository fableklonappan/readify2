{% extends "publisher/basep.html" %}
{% load static %}
{% block content %}
<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"> -->
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.css">
<script type="text/javascript" charset="utf8" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.js"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<style>
    h1{
        color: #333;
        font-size: 2.5rem;
        font-weight: bold;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
    }
    #rentalTable_wrapper {
        padding: 20px;
    }

    #rentalTable_wrapper .dataTables_filter input[type="search"] {
        width: 300px;
        border-radius: 5px;
        border: 1px solid #ccc;
        padding: 8px;
    }

    #rentalTable_wrapper .dataTables_length select {
        width: 80px;
        border-radius: 5px;
        border: 1px solid #ccc;
        padding: 8px;
    }

    #rentalTable th {
        background-color: #212c6a;
    }

    #rentalTable tbody tr:nth-child(even) {
        background-color: #f9f9f9;
    }

    #rentalTable tbody tr:hover {
        background-image: -webkit-linear-gradient(90deg, #f45622 0%, #f53e54 100%);
    }
</style>
</head>
<main class="container">
    <div class="content">
        <h1 class="mt-4 text" >View Customers</h1>
        <div class="table-responsive">
            <table id="rentalTable" class="table table-bordered">
                <thead class="thead-dark">
                    <tr>
                        <th scope="col">First Name</th>
                        <th scope="col">Last Name</th>
                        <th scope="col">Email</th>
                        <th scope="col">Role</th>
                        <th scope="col">more</th>
                    </tr>
                </thead>
                <tbody>
                    {% for entry in view_cus %}
                    <tr>
                        <td>{{ entry.first_name }}</td>
                        <td>{{ entry.last_name }}</td>
                        <td>{{ entry.email }}</td>
                        {% if entry.role == 1 %}
                        <td>User</td>
                        {% elif entry.role == 2 %}
                        <td>Seller</td>
                        {% else %}
                        <td>Admin</td>
                        {% endif %}
                        <td>
                            <a href="{% url 'detilescust' entry.id %}">
                              <i class="bi bi-card-text text-success"></i> View Details
                            </a>
                          </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</main>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
<script>
    $(document).ready(function () {
        $('#rentalTable').DataTable({
            "paging": true,
            "pageLength": 10 // Limit 7 rows per page
        });
    });
</script>

{% endblock content %}